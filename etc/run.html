<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <style>
     html, body, iframe {
       height: 100%;
       width: 100%;
       margin: 0;
       display: block;
     }
    </style>
    <script type="module">
     import {Headless} from "/_headless/headless.mjs"
     window.headless = new Headless(`ws://${location.host}${location.pathname}`);
     window.isHeadless = true // navigator.webdriver;
     window.close = (code = 0) => isHeadless ? console.clear(code) : console.log("exit:", code);
     window.openIframe = (src) => {
       return new Promise((resolve, reject) => {
         const iframe = document.createElement("iframe");
         const onerror = reject;
         const onload = () => resolve(iframe);
         document.body.appendChild(Object.assign(iframe, {onload, onerror, src}));
       });
     };
    </script>
    <template></template>
  </head>
</html>
